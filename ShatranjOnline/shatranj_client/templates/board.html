<!DOCTYPE html> {% load static %} <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/board_styles.css' %}">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand mx-3">{{username}}</a>
      <div class="navbar" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item mx-3">
            <a id="menu" class="nav-link" href="#">MENU</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <table id="board"></table>
        </div>
        <div class="moves_history col-md-3">
          <div>Moves:</div>
          <div id="moves"></div>
        </div>
      </div>
      <div class="row justify-content-end mt-3">
        <div id="turn" class="col-md-2"></div>
        <div class="col-md-4">
          <button id="resign" class="btn btn-outline-dark">RESIGN</button>
          <button id="draw" class="btn btn-outline-dark">DRAW</button>
        </div>
      </div>
    </div>
    <div id="draw_menu" class="hidden">
      <div class="container">
        <div class="row justify-content-center my-3"> Your opponent suggests you a draw. </div>
        <div class="row justify-content-center">
          <div class="col-6">
            <button type="button" class="btn btn-light" id="accept_draw">Accept</button>
          </div>
          <div class="col-6">
            <button type="button" class="btn btn-light" id="decline_draw">Decline</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      let menu = document.getElementById("menu");
      menu.onclick = function() {
        window.open(origin, "_self")
      };
      const game_id = {{object.id}};
      const board = {{board | safe}};
      const position = {{position | safe}};
      const player_color = {{player_color | safe}};
      let turn = document.getElementById('turn');
      const user = {{username | safe}};
      turn.innerHTML = "Turn: " + {{turn | safe}};
    </script>
    <script type="text/javascript" src="http://127.0.0.1:8000/static/js/board_ws.js"></script>
    <script type="text/javascript" src="http://127.0.0.1:8000/static/js/board.js"></script>
    <script type="text/javascript" src="http://127.0.0.1:8000/static/js/board_buttons.js"></script>
  </body>
</html>
